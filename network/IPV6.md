# IPV6地址表达

+ 长度128bits，16bits一组，采用16进制表示，共8组字段，每个字段之间使用 “:” 分隔
  
  2001 : 0db8 : 3902 : 00c2 : 0000 : 0000 : 0000 : fe04

+ 压缩格式表达
  
  - 抑制每个字段中的前导零
  
  - 使用双冒号 “::” 替换连续全零的字段，注意一个IPv6地址只能压缩一个零字段序列
    
    - 如果一个IPv6地址中有多个连续全零字段，只压缩最长的零字段序列
    
    - 如果一个IPv6地址中有多个相等长度的序列，则只压缩第一个
    
    - 不允许压缩单个零字段
  
  - 十六进制中的a, b, c, d, e, f必须是小写的

## IPV6地址空间划分

+ 以下为了方便，没有严格按照IPV6的压缩格式表达

| 前缀(二进制)      | 前缀(内嵌)     | 占百分比        | 分配        | 备注                 |
| ------------ | ---------- | ----------- | --------- | ------------------ |
|              | ::0000/128 | 1/$2^{128}$ | 未指定地址     |                    |
|              | ::0001/128 | 1/$2^{128}$ | 环回地址      |                    |
|              | ::FFFF/96  | 1/$2^{96}$  | IPV4映射地址  | ::ffff:192.168.0.1 |
| 0000 0000    | 0000::/8   | 1/256 - 以上  | 保留        |                    |
| 0000 0001    | 0000::/8   | 1/256       | 未分配       |                    |
| 0000 001     | 0200::/7   | 1/128       | 为NSAP地址保留 |                    |
| 0000 010     | 0400::/7   | 1/128       | 为IPX地址保留  |                    |
| 0000 011     | 0600::/7   | 1/128       | 未分配       |                    |
| 0000 1       | 0800::/5   | 1/32        | 未分配       |                    |
| 0001         | 1000::/4   | 1/16        | 未分配       |                    |
| 001          | 2000::/3   | 1/8         | 全局单播地址    |                    |
| 010          | 4000::/3   | 1/8         | 未分配       |                    |
| 011          | 6000::/3   | 1/8         | 未分配       |                    |
| 100          | 8000::/3   | 1/8         | 未分配       |                    |
| 101          | A000::/3   | 1/8         | 未分配       |                    |
| 110          | C000::/3   | 1/8         | 未分配       |                    |
| 1110         | E000::/4   | 1/16        | 未分配       |                    |
| 1111 0       | F000::/5   | 1/32        | 未分配       |                    |
| 1111 10      | F800::/6   | 1/64        | 未分配       |                    |
| 1111 110     | FC00::/7   | 1/128       | 唯一本地地址    | 目前FD00::/8可用       |
| 1111 1110 0  | FE00::/9   | 1/512       | 未分配       |                    |
| 1111 1110 10 | FE80::/10  | 1/1024      | 链路本地单播地址  |                    |
| 1111 1110 11 | FEC0::/10  | 1/1024      | 站点本地单薄地址  | 已弃用                |
| 1111 1111    | FF00::/8   | 1/256       | 多播地址      |                    |

# IEEE EUI-64地址生成规范

1. 首先获取mac地址，将mac地址转化为二进制形式

2. 将第7个bit位置取反

3. 在中间插入FFFE

举例

+ mac地址：00e0-fcce-34c1

+ 将第7bits反转：02e0-fcce-34c1

+ 中间插入FFFE：00e0-fcFF-FEce-34c1

+ 在开头追加链路本地地址前缀FE80，得到ipv6本地链路地址： fe80::2e0:fcff:fece:34c1
